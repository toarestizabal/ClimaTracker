<ion-header [translucent]="true">
  <ion-toolbar>
    <ion-title>Historial de Búsquedas</ion-title>
    <ion-buttons slot="end">
      <ion-button (click)="clearHistory()" color="danger">
        <ion-icon name="trash" slot="icon-only"></ion-icon>
      </ion-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true">
  <div class="ion-padding">
    
    
    <div *ngIf="loading" class="loading-container">
      <ion-spinner name="crescent"></ion-spinner>
      <p>Cargando historial...</p>
    </div>

    
    <div *ngIf="!loading">
      
      
      <ion-card *ngIf="searchHistory.length === 0">
        <ion-card-content class="text-center">
          <ion-icon name="time-outline" size="large"></ion-icon>
          <h3>No hay búsquedas recientes</h3>
          <p>Las búsquedas que realices aparecerán aquí</p>
        </ion-card-content>
      </ion-card>

      
      <ion-list *ngIf="searchHistory.length > 0">
        <ion-item *ngFor="let search of searchHistory; let i = index">
          <ion-icon name="search" slot="start" color="primary"></ion-icon>
          <ion-label>
            <h2>{{ search.city_name }}</h2>
            <p>{{ formatDate(search.search_date) }}</p>
          </ion-label>
          <ion-badge slot="end" color="light">{{ i + 1 }}</ion-badge>
        </ion-item>
      </ion-list>

      
      <ion-note *ngIf="searchHistory.length > 0" style="display: block; text-align: center; margin-top: 20px;">
        <p>Se muestran las últimas 10 búsquedas</p>
      </ion-note>

    </div>

  </div>
</ion-content>